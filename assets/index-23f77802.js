var Re=Object.defineProperty;var qe=(t,e,n)=>e in t?Re(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var le=(t,e,n)=>(qe(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function L(){}function De(t,e){for(const n in e)t[n]=e[n];return t}function Ee(t){return t()}function _e(){return Object.create(null)}function N(t){t.forEach(Ee)}function Z(t){return typeof t=="function"}function K(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ue(t){return Object.keys(t).length===0}function Fe(t,...e){if(t==null){for(const s of e)s(void 0);return L}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ke(t,e,n){t.$$.on_destroy.push(Fe(e,n))}function ce(t,e,n,s){if(t){const l=Ne(t,e,n,s);return t[0](l)}}function Ne(t,e,n,s){return t[1]&&s?De(n.ctx.slice(),t[1](s(e))):n.ctx}function fe(t,e,n,s){if(t[2]&&s){const l=t[2](s(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const i=[],a=Math.max(e.dirty.length,l.length);for(let o=0;o<a;o+=1)i[o]=e.dirty[o]|l[o];return i}return e.dirty|l}return e.dirty}function de(t,e,n,s,l,i){if(l){const a=Ne(e,n,s,i);t.p(a,l)}}function pe(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let s=0;s<n;s++)e[s]=-1;return e}return-1}function He(t){return t&&Z(t.destroy)?t.destroy:L}const Xe=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function m(t,e){t.appendChild(e)}function T(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode&&t.parentNode.removeChild(t)}function ze(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function F(t){return document.createTextNode(t)}function M(){return F(" ")}function me(){return F("")}function S(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function ve(t){return function(e){return e.preventDefault(),t.call(this,e)}}function _(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Je(t){return Array.from(t.childNodes)}function J(t,e){e=""+e,t.data!==e&&(t.data=e)}function be(t,e){t.value=e??""}function x(t,e,n,s){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,s?"important":"")}function B(t,e,n){t.classList.toggle(e,!!n)}let he;function V(t){he=t}function Ye(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(s=>s.call(this,e))}const X=[],te=[];let z=[];const ye=[],Ve=Promise.resolve();let oe=!1;function Ze(){oe||(oe=!0,Ve.then(Oe))}function re(t){z.push(t)}const ie=new Set;let U=0;function Oe(){if(U!==0)return;const t=he;do{try{for(;U<X.length;){const e=X[U];U++,V(e),Ge(e.$$)}}catch(e){throw X.length=0,U=0,e}for(V(null),X.length=0,U=0;te.length;)te.pop()();for(let e=0;e<z.length;e+=1){const n=z[e];ie.has(n)||(ie.add(n),n())}z.length=0}while(X.length);for(;ye.length;)ye.pop()();oe=!1,ie.clear(),V(t)}function Ge(t){if(t.fragment!==null){t.update(),N(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(re)}}function Qe(t){const e=[],n=[];z.forEach(s=>t.indexOf(s)===-1?e.push(s):n.push(s)),n.forEach(s=>s()),z=e}const ee=new Set;let R;function ue(){R={r:0,c:[],p:R}}function ae(){R.r||N(R.c),R=R.p}function b(t,e){t&&t.i&&(ee.delete(t),t.i(e))}function $(t,e,n,s){if(t&&t.o){if(ee.has(t))return;ee.add(t),R.c.push(()=>{ee.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}function ne(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function xe(t,e){$(t,1,1,()=>{e.delete(t.key)})}function et(t,e,n,s,l,i,a,o,u,r,c,f){let p=t.length,h=i.length,g=p;const I={};for(;g--;)I[t[g].key]=g;const C=[],d=new Map,v=new Map,Y=[];for(g=h;g--;){const w=f(l,i,g),A=n(w);let E=a.get(A);E?s&&Y.push(()=>E.p(w,e)):(E=r(A,w),E.c()),d.set(A,C[g]=E),A in I&&v.set(A,Math.abs(g-I[A]))}const G=new Set,ge=new Set;function se(w){b(w,1),w.m(o,c),a.set(w.key,w),c=w.first,h--}for(;p&&h;){const w=C[h-1],A=t[p-1],E=w.key,Q=A.key;w===A?(c=w.first,p--,h--):d.has(Q)?!a.has(E)||G.has(E)?se(w):ge.has(Q)?p--:v.get(E)>v.get(Q)?(ge.add(E),se(w)):(G.add(Q),p--):(u(A,a),p--)}for(;p--;){const w=t[p];d.has(w.key)||u(w,a)}for(;h;)se(C[h-1]);return N(Y),C}function W(t){t&&t.c()}function O(t,e,n){const{fragment:s,after_update:l}=t.$$;s&&s.m(e,n),re(()=>{const i=t.$$.on_mount.map(Ee).filter(Z);t.$$.on_destroy?t.$$.on_destroy.push(...i):N(i),t.$$.on_mount=[]}),l.forEach(re)}function j(t,e){const n=t.$$;n.fragment!==null&&(Qe(n.after_update),N(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function tt(t,e){t.$$.dirty[0]===-1&&(X.push(t),Ze(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(t,e,n,s,l,i,a,o=[-1]){const u=he;V(t);const r=t.$$={fragment:null,ctx:[],props:i,update:L,not_equal:l,bound:_e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:_e(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};a&&a(r.root);let c=!1;if(r.ctx=n?n(t,e.props||{},(f,p,...h)=>{const g=h.length?h[0]:p;return r.ctx&&l(r.ctx[f],r.ctx[f]=g)&&(!r.skip_bound&&r.bound[f]&&r.bound[f](g),c&&tt(t,f)),p}):[],r.update(),c=!0,N(r.before_update),r.fragment=s?s(r.ctx):!1,e.target){if(e.hydrate){const f=Je(e.target);r.fragment&&r.fragment.l(f),f.forEach(y)}else r.fragment&&r.fragment.c();e.intro&&b(t.$$.fragment),O(t,e.target,e.anchor),Oe()}V(u)}class D{constructor(){le(this,"$$");le(this,"$$set")}$destroy(){j(this,1),this.$destroy=L}$on(e,n){if(!Z(n))return L;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const l=s.indexOf(n);l!==-1&&s.splice(l,1)}}$set(e){this.$$set&&!Ue(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const nt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(nt);function st(t){let e,n,s,l,i;const a=t[1].default,o=ce(a,t,t[0],null);return{c(){e=k("div"),n=k("main"),o&&o.c(),_(e,"class","app"),_(e,"role","application")},m(u,r){T(u,e,r),m(e,n),o&&o.m(n,null),s=!0,l||(i=S(e,"contextmenu",ve(t[2])),l=!0)},p(u,r){o&&o.p&&(!s||r&1)&&de(o,a,u,u[0],s?fe(a,u[0],r,null):pe(u[0]),null)},i(u){s||(b(o,u),s=!0)},o(u){$(o,u),s=!1},d(u){u&&y(e),o&&o.d(u),l=!1,i()}}}function lt(t){let e,n,s;const l=t[1].default,i=ce(l,t,t[0],null);return{c(){e=k("div"),n=k("main"),i&&i.c(),_(e,"class","app"),_(e,"role","application")},m(a,o){T(a,e,o),m(e,n),i&&i.m(n,null),s=!0},p(a,o){i&&i.p&&(!s||o&1)&&de(i,l,a,a[0],s?fe(l,a[0],o,null):pe(a[0]),null)},i(a){s||(b(i,a),s=!0)},o(a){$(i,a),s=!1},d(a){a&&y(e),i&&i.d(a)}}}function it(t){let e,n,s,l;const i=[lt,st],a=[];function o(u,r){return 0}return e=o(),n=a[e]=i[e](t),{c(){n.c(),s=me()},m(u,r){a[e].m(u,r),T(u,s,r),l=!0},p(u,[r]){n.p(u,r)},i(u){l||(b(n),l=!0)},o(u){$(n),l=!1},d(u){u&&y(s),a[e].d(u)}}}function ot(t,e,n){let{$$slots:s={},$$scope:l}=e;function i(a){Ye.call(this,t,a)}return t.$$set=a=>{"$$scope"in a&&n(0,l=a.$$scope)},[l,s,i]}class rt extends D{constructor(e){super(),q(this,e,ot,it,K,{})}}const ut="/Tusker/assets/tusker-logo-poly-5836d0cb.png";function at(t){let e;return{c(){e=k("span"),e.innerHTML=`<img id="logo-img" src="${ut}" alt="Tusker Logo"/> <div><h1>Tusker</h1></div>`,_(e,"id","logo-container")},m(n,s){T(n,e,s)},p:L,i:L,o:L,d(n){n&&y(e)}}}class ct extends D{constructor(e){super(),q(this,e,null,at,K,{})}}const H=[];function ft(t,e){return{subscribe:je(t,e).subscribe}}function je(t,e=L){let n;const s=new Set;function l(o){if(K(t,o)&&(t=o,n)){const u=!H.length;for(const r of s)r[1](),H.push(r,t);if(u){for(let r=0;r<H.length;r+=2)H[r][0](H[r+1]);H.length=0}}}function i(o){l(o(t))}function a(o,u=L){const r=[o,u];return s.add(r),s.size===1&&(n=e(l,i)||L),o(t),()=>{s.delete(r),s.size===0&&n&&(n(),n=null)}}return{set:l,update:i,subscribe:a}}function Be(t,e,n){const s=!Array.isArray(t),l=s?[t]:t;if(!l.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=e.length<2;return ft(n,(a,o)=>{let u=!1;const r=[];let c=0,f=L;const p=()=>{if(c)return;f();const g=e(s?r[0]:r,a,o);i?a(g):f=Z(g)?g:L},h=l.map((g,I)=>Fe(g,C=>{r[I]=C,c&=~(1<<I),u&&p()},()=>{c|=1<<I}));return u=!0,p(),function(){N(h),f(),u=!1}})}const dt=(t,e)=>{const n=window.localStorage.getItem(t);return n?JSON.parse(n):e},pt=(t,e)=>{e(n=>{window.localStorage.setItem(t,JSON.stringify(n))})},mt=(t,e)=>{const n=dt(t,e),{subscribe:s,set:l,update:i}=je(n);return pt(t,s),{subscribe:s,set:l,update:i}},ht="tusker/tasks",gt=()=>{const{subscribe:t,set:e,update:n}=mt(ht,[]);let s=o=>o.length?Math.max(...o.map(u=>u.id))+1:0,l=(o,u)=>o.filter(r=>r.id==u)[0],i=o=>n(u=>[...u,{id:s(u),...o}]),a=(o,u)=>n(r=>r.map(c=>(c.id==o&&(c={id:o,...u(l(r,o))}),c)));return{subscribe:t,set:e,updateTask:a,toggleTaskState:(o,u)=>a(o,r=>({...r,state:u??(r.state=="Finished"?"In-Progress":"Finished")})),addTask:i,addTasks:o=>{o.forEach(i)},addTaskByTitle:o=>i({title:o,state:"In-Progress",tags:[]}),deleteTask:o=>n(u=>u.filter(r=>r.id!=o)),deleteTasks:()=>e([]),deleteFinishedTasks:()=>n(o=>o.filter(u=>u.state!="Finished"))}},P=gt(),_t=Be(P,t=>t.filter(e=>e.state!="Finished")),kt=Be(P,t=>t.filter(e=>e.state=="Finished"));let bt="https://api.ai21.com/studio/v1/j2-ultra/complete",yt="OA6FRXUU6lln8U1jKldXZ2jtcyaplKl0",wt=`Your mission is to accept a task descriptions and break it down into smaller task units.
Answer with markdown and write each task in a new line.
If a task unit includes multiple logical steps or elements, break it down to separate task units.
Pay close attention to details such as targets, dates, and requirements.
Each task unit must begin with an asterisk, and then the task unit's description.
Your input is between <input-start> and <input-end>.`,We=async t=>{let e=new Headers;e.set("Content-Type","application/json"),e.set("Authorization",`Bearer ${yt}`);let n=JSON.stringify({prompt:`${wt}
<input-start>${t}<input-end>`,numResults:1,epoch:0,maxTokens:400,temperature:0,topKReturn:0,topP:1,presencePenalty:{scale:0,applyToNumbers:!0,applyToPunctuations:!0,applyToStopwords:!0,applyToWhitespaces:!0,applyToEmojis:!0},countPenalty:{scale:0,applyToNumbers:!0,applyToPunctuations:!0,applyToStopwords:!0,applyToWhitespaces:!0,applyToEmojis:!0},frequencyPenalty:{scale:0,applyToNumbers:!0,applyToPunctuations:!0,applyToStopwords:!0,applyToWhitespaces:!0,applyToEmojis:!0},stopSequences:[]}),s=new Request(bt,{method:"POST",headers:e,body:n}),l=await(await fetch(s)).json();return $t(l.completions[0].data.text)},$t=t=>t.split(`
`).map(Tt).filter(e=>!!e.trim()).map(e=>({title:e,state:"In-Progress",tags:[]})),Tt=t=>t.startsWith("* ")?t.replace("* ",""):t;function we(t){let e,n=t[0]?"[SMART]":"[MANUAL]",s;return{c(){e=k("span"),s=F(n),_(e,"class","task-input-mode")},m(l,i){T(l,e,i),m(e,s)},p(l,i){i&1&&n!==(n=l[0]?"[SMART]":"[MANUAL]")&&J(s,n)},d(l){l&&y(e)}}}function Lt(t){let e,n,s,l,i,a,o,u,r=t[1]&&we(t);return{c(){e=k("div"),n=k("button"),s=k("span"),s.innerHTML='<input type="checkbox" disabled=""/>',l=M(),i=k("input"),a=M(),r&&r.c(),_(s,"class","task-item-checkbox"),_(i,"type","text"),_(i,"placeholder",t[5]),i.disabled=t[4],_(i,"class","manual-task-input-textbox"),_(n,"class","task-item"),B(n,"isFocus",t[1]),B(n,"isLoading",t[4]),_(e,"class","new-task-input")},m(c,f){T(c,e,f),m(e,n),m(n,s),m(n,l),m(n,i),be(i,t[3]),t[8](i),m(n,a),r&&r.m(n,null),o||(u=[S(i,"input",t[7]),S(i,"focus",t[9]),S(i,"blur",t[10]),S(n,"click",t[11]),S(n,"keydown",t[6])],o=!0)},p(c,[f]){f&32&&_(i,"placeholder",c[5]),f&16&&(i.disabled=c[4]),f&8&&i.value!==c[3]&&be(i,c[3]),c[1]?r?r.p(c,f):(r=we(c),r.c(),r.m(n,null)):r&&(r.d(1),r=null),f&2&&B(n,"isFocus",c[1]),f&16&&B(n,"isLoading",c[4])},i:L,o:L,d(c){c&&y(e),t[8](null),r&&r.d(),o=!1,N(u)}}}function St(t,e,n){let s,l,i,a=!1,o=!1,u=!1,r=async d=>{d.key=="Enter"&&i.trim()&&(a?(n(4,u=!0),(await We(i)).forEach(P.addTask),n(4,u=!1)):P.addTaskByTitle(i),n(3,i=""))},c=d=>{d.ctrlKey&&d.altKey&&(d.preventDefault(),n(0,a=!a))},f=d=>{c(d),r(d)};function p(){i=this.value,n(3,i)}function h(d){te[d?"unshift":"push"](()=>{l=d,n(2,l)})}const g=()=>n(1,o=!0),I=()=>n(1,o=!1),C=()=>l.focus();return t.$$.update=()=>{t.$$.dirty&3&&n(5,s=(a?"Describe your tasks":"Add a task		")+(o?"	(Press Ctrl+Alt to toggle input mode)":""))},[a,o,l,i,u,s,f,p,h,g,I,C]}class It extends D{constructor(e){super(),q(this,e,St,Lt,K,{})}}const{window:$e}=Xe;function Te(t,e,n){const s=t.slice();return s[14]=e[n],s}function Le(t){let e,n,s,l,i,a=ne(t[0]),o=[];for(let u=0;u<a.length;u+=1)o[u]=Se(Te(t,a,u));return{c(){e=k("nav"),n=k("div"),s=k("ul");for(let u=0;u<o.length;u+=1)o[u].c();_(n,"class","navbar"),_(n,"id","navbar"),x(e,"top",t[2].y+"px"),x(e,"left",t[2].x+"px")},m(u,r){T(u,e,r),m(e,n),m(n,s);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(s,null);l||(i=He(t[7].call(null,e)),l=!0)},p(u,r){if(r&1){a=ne(u[0]);let c;for(c=0;c<a.length;c+=1){const f=Te(u,a,c);o[c]?o[c].p(f,r):(o[c]=Se(f),o[c].c(),o[c].m(s,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=a.length}r&4&&x(e,"top",u[2].y+"px"),r&4&&x(e,"left",u[2].x+"px")},d(u){u&&y(e),ze(o,u),l=!1,i()}}}function Se(t){let e,n,s,l=(t[14].icon?t[14].icon:"")+"",i,a,o,u=t[14].displayText+"",r,c,f,p;return{c(){e=k("li"),n=k("button"),s=k("span"),i=F(l),a=M(),o=k("span"),r=F(u),c=M(),_(s,"class","context-menu-li-icon"),_(o,"class","context-menu-li-text")},m(h,g){T(h,e,g),m(e,n),m(n,s),m(s,i),m(n,a),m(n,o),m(o,r),m(n,c),f||(p=S(n,"click",function(){Z(t[14].onClick)&&t[14].onClick.apply(this,arguments)}),f=!0)},p(h,g){t=h,g&1&&l!==(l=(t[14].icon?t[14].icon:"")+"")&&J(i,l),g&1&&u!==(u=t[14].displayText+"")&&J(r,u)},d(h){h&&y(e),f=!1,p()}}}function Pt(t){let e,n,s,l,i,a=t[3]&&Le(t);const o=t[9].default,u=ce(o,t,t[8],null);return{c(){a&&a.c(),e=M(),n=k("span"),u&&u.c(),_(n,"role","superscript")},m(r,c){a&&a.m(r,c),T(r,e,c),T(r,n,c),u&&u.m(n,null),t[10](n),s=!0,l||(i=[S($e,"click",t[6]),S($e,"contextmenu",t[5]),S(n,"contextmenu",ve(t[4]))],l=!0)},p(r,[c]){r[3]?a?a.p(r,c):(a=Le(r),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),u&&u.p&&(!s||c&256)&&de(u,o,r,r[8],s?fe(o,r[8],c,null):pe(r[8]),null)},i(r){s||(b(u,r),s=!0)},o(r){$(u,r),s=!1},d(r){r&&(y(e),y(n)),a&&a.d(r),u&&u.d(r),t[10](null),l=!1,N(i)}}}function Mt(t,e,n){let{$$slots:s={},$$scope:l}=e,{menuItems:i=[]}=e,a,o={x:0,y:0},u={h:0,w:0},r={h:0,w:0},c=!1,f=d=>{n(3,c=!0),r={w:window.innerWidth,h:window.innerHeight},n(2,o={x:d.clientX+document.documentElement.scrollLeft,y:d.clientY+document.documentElement.scrollTop}),r.h-o.y<u.h&&n(2,o.y=o.y-u.h,o),r.w-o.x<u.w&&n(2,o.x=o.x-u.w,o)},p=d=>{var v,Y;return a.children[0]==d?!0:(Y=(v=a.children[0])==null?void 0:v.children)!=null&&Y.length?[...a.children[0].children].some(G=>G==d):!1},h=d=>{var v;((v=a==null?void 0:a.children)==null?void 0:v.length)==1?n(3,c=p(d.target)):n(3,c=!1)},g=d=>{n(3,c=!1)},I=d=>{u={h:d.offsetHeight,w:d.offsetWidth}};function C(d){te[d?"unshift":"push"](()=>{a=d,n(1,a)})}return t.$$set=d=>{"menuItems"in d&&n(0,i=d.menuItems),"$$scope"in d&&n(8,l=d.$$scope)},[i,a,o,c,f,h,g,I,l,s,C]}class Ke extends D{constructor(e){super(),q(this,e,Mt,Pt,K,{menuItems:0})}}function Ct(t){let e,n,s,l,i,a=t[0].title+"",o,u,r;return{c(){e=k("div"),n=k("span"),s=k("input"),l=M(),i=k("span"),o=F(a),_(s,"type","checkbox"),_(n,"class","task-item-checkbox"),_(i,"class","task-item-title"),_(e,"class","task-item"),B(e,"isFinished",t[1])},m(c,f){T(c,e,f),m(e,n),m(n,s),s.checked=t[1],m(e,l),m(e,i),m(i,o),u||(r=[S(s,"change",t[3]),S(s,"click",t[4])],u=!0)},p(c,f){f&2&&(s.checked=c[1]),f&1&&a!==(a=c[0].title+"")&&J(o,a),f&2&&B(e,"isFinished",c[1])},d(c){c&&y(e),u=!1,N(r)}}}function At(t){let e,n;return e=new Ke({props:{menuItems:t[2].filter(t[5]),$$slots:{default:[Ct]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},m(s,l){O(e,s,l),n=!0},p(s,[l]){const i={};l&1&&(i.menuItems=s[2].filter(s[5])),l&67&&(i.$$scope={dirty:l,ctx:s}),e.$set(i)},i(s){n||(b(e.$$.fragment,s),n=!0)},o(s){$(e.$$.fragment,s),n=!1},d(s){j(e,s)}}}function Et(t,e,n){let s,{task:l}=e,i=[{name:"toggleTask",onClick:()=>P.toggleTaskState(l.id,"In-Progress"),displayText:"Mark as not finished",icon:"⍻",states:["Finished"]},{name:"toggleTask",onClick:()=>P.toggleTaskState(l.id,"Finished"),displayText:"Mark as finished",icon:"✓",states:["In-Progress"]},{name:"breakdownTask",onClick:async()=>{(await We(l.title)).forEach(P.addTask),P.deleteTask(l.id)},displayText:"Breakdown",icon:"..",states:["In-Progress"]},{name:"deleteTask",onClick:()=>P.deleteTask(l.id),displayText:"Delete task",icon:"X",states:["In-Progress","Finished"]}];function a(){s=this.checked,n(1,s),n(0,l)}const o=()=>P.toggleTaskState(l.id),u=r=>r.states.includes(l.state);return t.$$set=r=>{"task"in r&&n(0,l=r.task)},t.$$.update=()=>{t.$$.dirty&1&&n(1,s=l.state=="Finished")},[l,s,i,a,o,u]}class Ft extends D{constructor(e){super(),q(this,e,Et,At,K,{task:0})}}function Ie(t,e,n){const s=t.slice();return s[5]=e[n],s}function Pe(t){let e,n;return e=new Ke({props:{menuItems:t[3],$$slots:{default:[Nt]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},m(s,l){O(e,s,l),n=!0},p(s,l){const i={};l&263&&(i.$$scope={dirty:l,ctx:s}),e.$set(i)},i(s){n||(b(e.$$.fragment,s),n=!0)},o(s){$(e.$$.fragment,s),n=!1},d(s){j(e,s)}}}function Nt(t){let e,n,s,l,i,a,o=t[0].length+"",u,r,c,f;return{c(){e=k("button"),n=k("span"),n.textContent="▶",s=M(),l=k("span"),i=F(t[1]),a=F(" ("),u=F(o),r=F(")"),_(n,"class","task-list-button-triangle"),B(n,"showTasks",t[2]),_(l,"class","task-list-button-text"),_(e,"class","task-list-button")},m(p,h){T(p,e,h),m(e,n),m(e,s),m(e,l),m(l,i),m(l,a),m(l,u),m(l,r),c||(f=S(e,"click",t[4]),c=!0)},p(p,h){h&4&&B(n,"showTasks",p[2]),h&2&&J(i,p[1]),h&1&&o!==(o=p[0].length+"")&&J(u,o)},d(p){p&&y(e),c=!1,f()}}}function Me(t){let e=[],n=new Map,s,l,i=ne(t[0]);const a=o=>o[5].id;for(let o=0;o<i.length;o+=1){let u=Ie(t,i,o),r=a(u);n.set(r,e[o]=Ce(r,u))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();s=me()},m(o,u){for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(o,u);T(o,s,u),l=!0},p(o,u){u&1&&(i=ne(o[0]),ue(),e=et(e,u,a,1,o,i,n,s.parentNode,xe,Ce,s,Ie),ae())},i(o){if(!l){for(let u=0;u<i.length;u+=1)b(e[u]);l=!0}},o(o){for(let u=0;u<e.length;u+=1)$(e[u]);l=!1},d(o){o&&y(s);for(let u=0;u<e.length;u+=1)e[u].d(o)}}}function Ce(t,e){let n,s,l;return s=new Ft({props:{task:e[5]}}),{key:t,first:null,c(){n=me(),W(s.$$.fragment),this.first=n},m(i,a){T(i,n,a),O(s,i,a),l=!0},p(i,a){e=i;const o={};a&1&&(o.task=e[5]),s.$set(o)},i(i){l||(b(s.$$.fragment,i),l=!0)},o(i){$(s.$$.fragment,i),l=!1},d(i){i&&y(n),j(s,i)}}}function vt(t){let e,n,s,l=!!t[1]&&t[0].length&&Pe(t),i=t[2]&&Me(t);return{c(){e=k("div"),l&&l.c(),n=M(),i&&i.c(),_(e,"class","task-list")},m(a,o){T(a,e,o),l&&l.m(e,null),m(e,n),i&&i.m(e,null),s=!0},p(a,[o]){a[1]&&a[0].length?l?(l.p(a,o),o&3&&b(l,1)):(l=Pe(a),l.c(),b(l,1),l.m(e,n)):l&&(ue(),$(l,1,1,()=>{l=null}),ae()),a[2]?i?(i.p(a,o),o&4&&b(i,1)):(i=Me(a),i.c(),b(i,1),i.m(e,null)):i&&(ue(),$(i,1,1,()=>{i=null}),ae())},i(a){s||(b(l),b(i),s=!0)},o(a){$(l),$(i),s=!1},d(a){a&&y(e),l&&l.d(),i&&i.d()}}}function Ot(t,e,n){let{taskList:s}=e,{category:l=void 0}=e,i=!0;const a=[{name:"deleteAll",displayText:"Delete tasks",onClick:()=>s.forEach(u=>P.deleteTask(u.id)),icon:"X"}],o=()=>n(2,i=!i);return t.$$set=u=>{"taskList"in u&&n(0,s=u.taskList),"category"in u&&n(1,l=u.category)},[s,l,i,a,o]}class Ae extends D{constructor(e){super(),q(this,e,Ot,vt,K,{taskList:0,category:1})}}function jt(t){let e,n,s,l,i,a,o,u;return e=new ct({}),s=new It({}),i=new Ae({props:{category:"In-Progress",taskList:t[0]}}),o=new Ae({props:{category:"Finished",taskList:t[1]}}),{c(){W(e.$$.fragment),n=M(),W(s.$$.fragment),l=M(),W(i.$$.fragment),a=M(),W(o.$$.fragment)},m(r,c){O(e,r,c),T(r,n,c),O(s,r,c),T(r,l,c),O(i,r,c),T(r,a,c),O(o,r,c),u=!0},p(r,c){const f={};c&1&&(f.taskList=r[0]),i.$set(f);const p={};c&2&&(p.taskList=r[1]),o.$set(p)},i(r){u||(b(e.$$.fragment,r),b(s.$$.fragment,r),b(i.$$.fragment,r),b(o.$$.fragment,r),u=!0)},o(r){$(e.$$.fragment,r),$(s.$$.fragment,r),$(i.$$.fragment,r),$(o.$$.fragment,r),u=!1},d(r){r&&(y(n),y(l),y(a)),j(e,r),j(s,r),j(i,r),j(o,r)}}}function Bt(t){let e,n;return e=new rt({props:{$$slots:{default:[jt]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},m(s,l){O(e,s,l),n=!0},p(s,[l]){const i={};l&7&&(i.$$scope={dirty:l,ctx:s}),e.$set(i)},i(s){n||(b(e.$$.fragment,s),n=!0)},o(s){$(e.$$.fragment,s),n=!1},d(s){j(e,s)}}}function Wt(t,e,n){let s,l;return ke(t,_t,i=>n(0,s=i)),ke(t,kt,i=>n(1,l=i)),[s,l]}class Kt extends D{constructor(e){super(),q(this,e,Wt,Bt,K,{})}}new Kt({target:document.body});
